# Project Description ‚Äî iOS Cleaner App

## 1. Overview
iOS Cleaner ‚Äî —ç—Ç–æ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ iPhone, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞ –º–∞—Å—Å–æ–≤—É—é –∞—É–¥–∏—Ç–æ—Ä–∏—é –∏–∑ –°–®–ê, –Ø–ø–æ–Ω–∏–∏ –∏ –ë—Ä–∞–∑–∏–ª–∏–∏.  
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ—á–µ—Ç–∞–µ—Ç –≤ —Å–µ–±–µ –≤—ã—Å–æ–∫—É—é —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã, –ø—Ä–æ—Å—Ç–æ–π UX/UI, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —É—Ç–∏–ª–∏—Ç: –æ—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏, –∫–æ–º–ø—Ä–µ—Å—Å–∏—è –≤–∏–¥–µ–æ, –∞–Ω–∞–ª–∏–∑ –±–∞—Ç–∞—Ä–µ–∏, —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∞–ª—å–±–æ–º, –æ—á–∏—Å—Ç–∫–∞ email-—Å–ø–∞–º–∞ –∏ —É–Ω–∏–∫–∞–ª—å–Ω–∞—è —Ñ–∏—á–∞ Smart Highlights Detector.

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å –ø–æ–º–æ—â—å—é AI IDE (Google Antigravity / Cursor), –æ—Å–Ω–æ–≤–Ω–æ–π UI-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ ‚Äî **SwiftUI**, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚Äî **MVVM + Services**, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ ‚Äî **Firebase**.

---

## 2. Positioning & Value Proposition
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫:
- **Premium Cleaner Utility** —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Ç—ë–º–Ω—ã–º UI.
- –£–¥–æ–±–Ω—ã–π –∏ –ø–æ–Ω—è—Ç–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–∞–º—è—Ç–∏.
- –ü—Ä–æ–¥—É–∫—Ç –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞ (TikTok Ads, UA –ø–æ—Å—Ç–∏–Ω–≥, —Å–µ—Ä—ã–µ –≤–æ—Ä–æ–Ω–∫–∏).
- –õ–µ–≥–∫–æ–≤–µ—Å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –±—ã—Å—Ç—Ä–æ –≤—ã–ø–æ–ª–Ω—è—é—â–µ–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏.

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ UX/UI (–º–∏–∫—Å Premium Aurora Gradient + Modern iOS Dark).
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ñ–∏—á–∏ (Swipe-to-clean, Smart Highlights Detector, Video Compression).
- –°–∏–ª—å–Ω—ã–µ paywall-—ç–∫—Ä–∞–Ω—ã —Å A/B —Ç–µ—Å—Ç–∞–º–∏.
- –õ—ë–≥–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ø—Ä–æ—Å—Ç–æ–π –∫–æ–¥ (–ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ò–ò).
- Friendly –¥–ª—è App Store Review (–±–µ–∑ —Ç–æ–∫—Å–∏—á–Ω—ã—Ö —Å–µ—Ä—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π).

---

## 3. Target Audience
1. **–°–®–ê / Japan / Brazil** ‚Äî –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ iPhone.
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, —É –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ø–∞–º—è—Ç—å.
3. –õ—é–¥–∏, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ —Å–Ω–∏–º–∞—é—Ç —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ.
4. –í–ª–∞–¥–µ–ª—å—Ü—ã –¥–µ—à—ë–≤—ã—Ö –ø–ª–∞–Ω–æ–≤ iCloud (50GB).
5. –ù–µ–æ–ø—ã—Ç–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∫–æ—Ç–æ—Ä—ã–º –Ω—É–∂–Ω–∞ –ø—Ä–æ—Å—Ç–∞—è –æ—á–∏—Å—Ç–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

---

## 4. Key Features (MVP Scope)

### üì∏ –§–æ—Ç–æ / –í–∏–¥–µ–æ
- Duplicate Photos Detection  
- Similar Photos  
- Screenshots Cleaner  
- Live Photos Cleaner  
- Swipe-to-Clean (—É–¥–∞–ª–µ–Ω–∏–µ —Å–≤–∞–π–ø–∞–º–∏)  
- Video Compression (–∞—Ä—Ö–∏–≤–∞—Ü–∏—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤)  
- **Smart Highlights Detector (AI-lite)** ‚Äî –≤—ã–±–æ—Ä –ª—É—á—à–∏—Ö —Ñ–æ—Ç–æ –ø–æ —ç–≤—Ä–∏—Å—Ç–∏–∫–∞–º

### üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã
- Merge duplicate contacts  
- Remove empty contacts  
- Normalize phone formats  

### üì¨ –ü–æ—á—Ç–∞
- Spam cleaner  
- Mass unsubscribe  
- –ê–Ω–∞–ª–∏–∑ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è  

### üîã –ë–∞—Ç–∞—Ä–µ—è
- Battery monitor  
- Battery usage tips  
- **Pseudo charging animations**

### üîê Secret Folder
- Secure vault for photos/videos 
- Secure vault for contacts
- Passcode lock  
- Biometric unlock  

### üîî Push Notifications
- Low storage alert  
- Duplicates found  
- Trial ending  
- Scan results  
- Reminder cleanups  

### üí∞ Monetization
- Weekly plan: **$6.99**  
- Yearly plan: **$34.99**  
- Lifetime promo: **$29.99**  
- –ê/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ paywalls  
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π free —Ä–µ–∂–∏–º: –¥–æ **50 —Ñ–∞–π–ª–æ–≤** –æ—á–∏—Å—Ç–∫–∏ –≤ –¥–µ–Ω—å  

---

## 5. Supported Languages
- English  
- Japanese  
- Portuguese (BR)  

---

## 6. Tech Stack

### Language & Frameworks
- **Swift 5+**
- **SwiftUI** (–æ—Å–Ω–æ–≤–Ω–æ–π UI —Å—Ç–µ–∫)
- **UIKit** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è)
- **Combine / ObservableObject / async/await**
- **PhotoKit**
- **Contacts Framework**
- **StoreKit 2**
- **UserNotifications**
- **LocalAuthentication**

### Services
- Firebase Analytics  
- Firebase Crashlytics  
- Firebase Firestore (–ª–æ–≥–∏ + feature flags)  

---

## 7. Architecture

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω
- **MVVM** –¥–ª—è —ç–∫—Ä–∞–Ω–æ–≤  
- **Service Layer**:
  - PhotoService  
  - VideoService  
  - ContactsService  
  - MailService  
  - StorageService  
  - BatteryService  
  - SecretFolderService  
  - SubscriptionService (StoreKit 2)  
  - LogService (Firebase)  

### Data Flow
- UI ‚Üí ViewModel ‚Üí Service ‚Üí Apple API (PhotoKit/Contacts)
- UI ‚Üí ViewModel ‚Üí StoreKit 2
- UI ‚Üí ViewModel ‚Üí Firestore (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)


### –õ–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- UserDefaults (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)  
- Secure Enclave (Secret Folder)  
- Lightweight caches (thumbnails, previews)  

---

## 8. App Structure (High-Level)

### Onboarding
1. Welcome  
2. Photo and Video cleaning intro  
3. Battery/Secret folder intro  
4. Paywall  

### Main App
- Dashboard: Photo / Video Cleaner (Duplicates, Similar, Screenshots, Live, Videos, Short Vedeos, Screen Recordings)
- Swipe Photo Cleaner
- Contacts Cleaner  
- Email Cleaner    
- More (Secret Folder, Device Health, Battery Life and Tips, Settings, Policies etc.) 

---

## 9. App Store Compliance Notes
- –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Ä–º–∏–Ω ‚ÄúRAM cleaning‚Äù, ‚Äúboost‚Äù, ‚Äúinstant speed‚Äù.  
- –¢–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ.  
- –ü—Å–µ–≤–¥–æ-–∞–Ω–∏–º–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è ‚ÄúCreative Charging Screens‚Äù.  
- –ù–∏–∫–∞–∫–∏—Ö system-like popups.  
- Secret Folder –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ (–ø—Ä–æ—Å—Ç–æ–π SecureEnclave).  

---

## 10. Approximate List of Tasks

## üöß Phase 1: Core Photo Cleaning (Priority: HIGH)

### Photo Analysis Engine
- [ ] Implement PhotoKit asset fetching
- [ ] Build duplicate detection algorithm
  - [ ] Image hashing (pHash or dHash)
  - [ ] Pixel-perfect comparison
  - [ ] EXIF metadata comparison
- [ ] Similar photos detection
  - [ ] Vision framework integration
  - [ ] Feature extraction
  - [ ] Similarity scoring
- [ ] Screenshot detection (mediaSubtypes)
- [ ] Live photos detection

### Photo Review UI
- [ ] DuplicatePhotosView
  - [ ] Grid/list of duplicate groups
  - [ ] Preview with comparison
  - [ ] Select/deselect interface
  - [ ] Batch delete confirmation
- [ ] SimilarPhotosView
  - [ ] Clustered groups
  - [ ] Smart selection (keep best)
  - [ ] Quality indicators
- [ ] ScreenshotsView
  - [ ] Date-based grouping
  - [ ] Quick preview
  - [ ] Mass delete option
- [ ] LivePhotosView
  - [ ] Convert to static option
  - [ ] Space savings preview

### Photo Services
- [ ] PhotoAnalysisService
  - [ ] Scanning progress tracking
  - [ ] Background processing
  - [ ] Cache results
- [ ] PhotoDeletionService
  - [ ] Batch delete with progress
  - [ ] Undo capability (trash)
  - [ ] Permission handling

---

## üöß Phase 2: Video Features (Priority: HIGH)

### Video Analysis
- [ ] Video asset fetching
- [ ] Short video detection (<20s)
- [ ] Screen recording detection

### Video Compression
- [ ] VideoCompressionService
  - [ ] Quality presets (High, Medium, Low)
  - [ ] Resolution downscaling
  - [ ] Bitrate optimization
  - [ ] Progress tracking
- [ ] Video compression UI
  - [ ] Size preview (before/after)
  - [ ] Quality comparison
  - [ ] Batch processing

### Video Review UI
- [ ] VideosView
  - [ ] Grid with thumbnails
  - [ ] Size/duration info
  - [ ] Compression options
- [ ] ShortVideosView
- [ ] ScreenRecordingsView

---

## üöß Phase 3: Swipe-to-Clean Feature (Priority: MEDIUM)

### Swipe Hub
- [ ] SwipeHubView
  - [ ] Category selection
  - [ ] Session stats
  - [ ] Start session CTA

### Swipe Session
- [ ] SwipeSessionView
  - [ ] Tinder-like card stack
  - [ ] Swipe gestures (left=delete, right=keep)
  - [ ] Undo last action
  - [ ] Progress indicator
  - [ ] Session completion summary
- [ ] SwipeSessionViewModel
  - [ ] Card queue management
  - [ ] Decision tracking
  - [ ] Batch operations

---

## üöß Phase 4: Contacts (Priority: MEDIUM)

### Contacts Cleanup
- [ ] Detect duplicate contacts (name / phone / email)
- [ ] Merge duplicates into a single clean contact
- [ ] Find contacts without a name / without a phone number
- [ ] Detect fully empty or broken contacts
- [ ] Bulk delete empty / useless contacts

### Contacts UX
- [ ] Contacts dashboard with categories (duplicates, no name, no number, empty, etc.)
- [ ] Duplicate groups with clear preview and choice of which contact to keep
- [ ] One-tap actions: ‚ÄúDelete all empty‚Äù, ‚ÄúMerge all duplicates (suggested)‚Äù
- [ ] Safe confirmation before bulk operations

### Secret Contacts
- [ ] Separate ‚ÄúSecret Contacts‚Äù section
- [ ] Add and store private contacts inside the app
- [ ] Protect access with PIN / Face ID
- [ ] Move a regular contact into Secret and back

### Permissions & Limits
- [ ] Request Contacts permission with a clear, human-friendly explanation
- [ ] Graceful fallback when permission is denied (blocking state with CTA to Settings)
- [ ] Free tier limit based on number of operations (merge/delete) before showing paywall


## üöß Phase 5: Email Cleanup (Priority: MEDIUM)

### Email Integration
- [ ] EmailService
  - [ ] Account connection (OAuth)
  - [ ] Inbox fetching
  - [ ] Spam detection
  - [ ] Newsletter detection

### Email UI
- [ ] EmailConnectView
  - [ ] Provider selection
  - [ ] OAuth flow
- [ ] EmailInboxCleanupView
  - [ ] Sender grouping
  - [ ] Mass unsubscribe
  - [ ] Delete suggestions

---

## üöß Phase 6: Secret Folder (Priority: MEDIUM)

### Security Setup
- [ ] SecretFolderService
  - [ ] Local encryption (Keychain)
  - [ ] Biometric authentication
  - [ ] PIN code fallback

### Secret Album
- [ ] SecretHomeView
  - [ ] Album grid
  - [ ] Add photos/videos
  - [ ] Remove items
- [ ] SecretAlbumView
  - [ ] Encrypted storage
  - [ ] Preview & playback
  - [ ] Export option

### Secret Contacts
- [ ] SecretContactsView
  - [ ] Hidden contacts list
  - [ ] Add from contacts
  - [ ] Call/message (with unlock)

---

## üöß Phase 7: Device Health & Battery (Priority: LOW)

### Battery Monitoring
- [ ] BatteryService
  - [ ] Battery level tracking
  - [ ] Battery health estimation
  - [ ] Charging state
  - [ ] Temperature monitoring (if available)

### Battery UI
- [ ] BatteryInsightsView
  - [ ] Health score
  - [ ] Usage tips
  - [ ] Charging animations (pseudo)
- [ ] DeviceHealthView
  - [ ] Storage breakdown
  - [ ] Battery status
  - [ ] System info

### System Tips
- [ ] SystemTipsView
  - [ ] Optimization suggestions
  - [ ] Quick actions

---

## üöß Phase 8: Settings & More (Priority: MEDIUM)

### Settings Screen
- [ ] SettingsView
  - [ ] Account/subscription status
  - [ ] Notification preferences
  - [ ] Language selection
  - [ ] Storage settings
  - [ ] About & support
  - [ ] Terms & privacy links

### Cleaning History
- [ ] CleaningHistoryService
  - [ ] Log cleanup sessions
  - [ ] Space freed tracking
- [ ] CleaningHistoryView
  - [ ] Timeline of cleanups
  - [ ] Stats & charts

---

## üöß Phase 9: Monetization & StoreKit (Priority: HIGH)

### Subscription System
- [ ] SubscriptionService
  - [ ] StoreKit 2 integration
  - [ ] Product fetching
  - [ ] Purchase flow
  - [ ] Receipt validation
  - [ ] Restore purchases
  - [ ] Subscription status sync

### Paywall Improvements
- [ ] A/B testing support
  - [ ] Multiple paywall variants
  - [ ] Feature flags integration
- [ ] Trial management
  - [ ] Trial countdown
  - [ ] Trial end notification
- [ ] Free tier limits
  - [ ] File count tracking
  - [ ] Limit enforcement
  - [ ] Upgrade prompts

---

## üöß Phase 10: Analytics & Firebase (Priority: HIGH)

### Firebase Integration
- [ ] Firebase SDK setup
- [ ] Firebase Analytics
  - [ ] Replace AnalyticsService placeholders
  - [ ] Custom events
  - [ ] User properties
- [ ] Firebase Crashlytics
  - [ ] Crash reporting
  - [ ] Custom logs
- [ ] Firebase Firestore
  - [ ] Feature flags
  - [ ] Remote config
  - [ ] User data sync (optional)

### Analytics Events
- [ ] Comprehensive event tracking
- [ ] Funnel analysis
- [ ] Retention tracking
- [ ] Revenue events

---

## üöß Phase 11: Push Notifications (Priority: MEDIUM)

### Notification System
- [ ] NotificationService
  - [ ] Local notifications
  - [ ] Remote notifications (Firebase)
  - [ ] Notification scheduling

### Notification Types
- [ ] Low storage alert
- [ ] Duplicates found
- [ ] Trial ending reminder
- [ ] Cleanup reminders
- [ ] Tips & tricks

---

## üöß Phase 12: Localization (Priority: MEDIUM)

### Languages
- [ ] English (base)
- [ ] Japanese
- [ ] Portuguese (BR)

### Localization Tasks
- [ ] Strings extraction
- [ ] Localizable.strings files
- [ ] Date/number formatting
- [ ] RTL support (if needed)
- [ ] Testing on all locales

---

## üöß Phase 13: Performance & Optimization (Priority: HIGH)

### Performance
- [ ] Photo loading optimization
  - [ ] Thumbnail caching
  - [ ] Lazy loading
  - [ ] Memory management
- [ ] Background processing
  - [ ] Photo analysis in background
  - [ ] Progress persistence
- [ ] App launch optimization
  - [ ] Reduce initialization time
  - [ ] Lazy service loading

### Testing
- [ ] Unit tests for services
- [ ] UI tests for critical flows
- [ ] Performance testing
- [ ] Memory leak detection

---

## üöß Phase 14: Polish & App Store Prep (Priority: HIGH)

### UI/UX Polish
- [ ] Animation refinements
- [ ] Loading states
- [ ] Error states
- [ ] Empty states
- [ ] Haptic feedback

### App Store Assets
- [ ] App icon design
- [ ] Screenshots (all locales)
- [ ] App preview video
- [ ] App Store description
- [ ] Keywords optimization
- [ ] Privacy policy
- [ ] Terms of service

### App Review Preparation
- [ ] Test account creation
- [ ] Review notes
- [ ] Compliance checklist
- [ ] Metadata review  

---

## 11. Goals for AI IDE
–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–ª—É–∂–∏—Ç –æ—Å–Ω–æ–≤–Ω—ã–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –¥–ª—è:
- –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞  
- —Å–æ–∑–¥–∞–Ω–∏—è —ç–∫—Ä–∞–Ω–æ–≤  
- –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤  
- –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏  
- —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–æ—á–Ω–æ–π –ª–æ–≥–∏–∫–∏  
- –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Firebase  
- –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ UI –ø–æ —Å—Ç–∏–ª—é –∏–∑ ui_design.md  
- —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è —Ñ–∏—á —Å tasks.md  
